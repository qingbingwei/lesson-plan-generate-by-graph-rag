/**
 * 统一的年级规范化工具
 * 用于输入分析节点（返回中文年级名）
 */
export function normalizeGrade(grade: string): string {
  const gradeMap: Record<string, string> = {
    '一年级': '一年级',
    '二年级': '二年级',
    '三年级': '三年级',
    '四年级': '四年级',
    '五年级': '五年级',
    '六年级': '六年级',
    '七年级': '七年级',
    '八年级': '八年级',
    '九年级': '九年级',
    '初一': '七年级',
    '初二': '八年级',
    '初三': '九年级',
    '高一': '高一',
    '高二': '高二',
    '高三': '高三',
    '1': '一年级',
    '2': '二年级',
    '3': '三年级',
    '4': '四年级',
    '5': '五年级',
    '6': '六年级',
    '7': '七年级',
    '8': '八年级',
    '9': '九年级',
    '10': '高一',
    '11': '高二',
    '12': '高三',
    'grade 1': '一年级',
    'grade 2': '二年级',
    'grade 3': '三年级',
    'grade 4': '四年级',
    'grade 5': '五年级',
    'grade 6': '六年级',
    'grade 7': '七年级',
    'grade 8': '八年级',
    'grade 9': '九年级',
    'grade 10': '高一',
    'grade 11': '高二',
    'grade 12': '高三',
  };

  const normalized = gradeMap[grade.toLowerCase()];
  return normalized || grade;
}

/**
 * 将年级转换为数字格式（用于 Neo4j 查询）
 */
export function gradeToNumber(grade: string): string {
  const gradeMap: Record<string, string> = {
    '一年级': '1', '二年级': '2', '三年级': '3', '四年级': '4', '五年级': '5', '六年级': '6',
    '初一': '7', '初二': '8', '初三': '9',
    '七年级': '7', '八年级': '8', '九年级': '9',
    '高一': '10', '高二': '11', '高三': '12',
    '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6',
    '7': '7', '8': '8', '9': '9', '10': '10', '11': '11', '12': '12',
  };
  return gradeMap[grade] || grade;
}
